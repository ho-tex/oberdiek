}\LONGTYPEOUT {
\STARTMESSAGE 
Don't change this file in any respect.
}
\LONGTYPEOUT #1->\begingroup \long \def \TYPE ##1{##1}\immediate \write 128{#1}
\endgroup 
#1<-
\LONGTYPEOUT #1->\begingroup \long \def \TYPE ##1{##1}\immediate \write 128{#1}
\endgroup 
#1<-
\STARTMESSAGE 
Don't change this file in any respect.
\STARTMESSAGE ->This is a generated file for the l3build validation system.
This is a generated file for the l3build validation system.
Don't change this file in any respect.
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\pdef \cmp {}
#2<-*\foo {}
\msg {->\immediate \write 16{
<<\ProtectedDef *\foo {}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param}{\protected \ProDef@long \def \foo }{\protec
ted \ProDef@long \expandafter \expandafter \expandafter \def \expandafter \expa
ndafter \expandafter \foo \csname ProDef@param\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo 
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param\endcsname 
\ProDef@long ->
\ProDef@param ->
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param}{\protected \ProDef@long \def \foo }{\protec
ted \ProDef@long \expandafter \expandafter \expandafter \def \expandafter \expa
ndafter \expandafter \foo \csname ProDef@param\endcsname }
#2<-
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\pdef \cmp {}
#2<-*\foo [0]{}
\msg {->\immediate \write 16{
<<\ProtectedDef *\foo [0]{}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[0]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param[0]}{\protected \ProDef@long \def \foo [0]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param[0]
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo [0]
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname 
\ProDef@long ->
\ProDef@param[0] ->
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[0]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param[0]}{\protected \ProDef@long \def \foo [0]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname }
#2<-
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\pdef \cmp ##1{<##1>}
#2<-*\foo [1]{<##1>}
\msg {->\immediate \write 16{
<<\ProtectedDef *\foo [1]{<##1>}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[1]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param[1]}{\protected \ProDef@long \def \foo [1]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param[1]
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo [1]
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname 
\ProDef@long ->
\ProDef@param[1] ->##1
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[1]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param[1]}{\protected \ProDef@long \def \foo [1]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname }
#2<-<##1>
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\pdef \cmp (##1){<##1>}
#2<-*\foo (##1){<##1>}
\msg {->\immediate \write 16{
<<\ProtectedDef *\foo (##1){<##1>}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-(##1)
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param(##1)}{\protected \ProDef@long \def \foo (##1
)}{\protected \ProDef@long \expandafter \expandafter \expandafter \def \expanda
fter \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param(##1)
\ltx@firstoftwo #1#2->#1
#1<-\protected \ProDef@long \def \foo (##1)
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname 
\ProDef@long ->
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ltx@gobble #1->
#1<-*
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-(##1)
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param(##1)}{\protected \ProDef@long \def \foo (##1
)}{\protected \ProDef@long \expandafter \expandafter \expandafter \def \expanda
fter \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname }
#2<-<##1>
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\long \pdef \cmp {}
#2<-\foo {}
\msg {->\immediate \write 16{
<<\ProtectedDef \foo {}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param}{\protected \ProDef@long \def \foo }{\protec
ted \ProDef@long \expandafter \expandafter \expandafter \def \expandafter \expa
ndafter \expandafter \foo \csname ProDef@param\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo 
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param\endcsname 
\ProDef@param ->
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param}{\protected \ProDef@long \def \foo }{\protec
ted \ProDef@long \expandafter \expandafter \expandafter \def \expandafter \expa
ndafter \expandafter \foo \csname ProDef@param\endcsname }
#2<-
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\long \pdef \cmp {}
#2<-\foo [0]{}
\msg {->\immediate \write 16{
<<\ProtectedDef \foo [0]{}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[0]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param[0]}{\protected \ProDef@long \def \foo [0]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param[0]
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo [0]
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname 
\ProDef@param[0] ->
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[0]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param[0]}{\protected \ProDef@long \def \foo [0]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[0]\endcsname }
#2<-
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\long \pdef \cmp ##1{<##1>}
#2<-\foo [1]{<##1>}
\msg {->\immediate \write 16{
<<\ProtectedDef \foo [1]{<##1>}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[1]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param[1]}{\protected \ProDef@long \def \foo [1]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param[1]
\ltx@secondoftwo #1#2->#2
#1<-\protected \ProDef@long \def \foo [1]
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname 
\ProDef@param[1] ->##1
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-[1]
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param[1]}{\protected \ProDef@long \def \foo [1]}{\
protected \ProDef@long \expandafter \expandafter \expandafter \def \expandafter
 \expandafter \expandafter \foo \csname ProDef@param[1]\endcsname }
#2<-<##1>
\BeginCheck #1\ProtectedDef #2\EndCheck ->\begingroup \toks 0={\ProtectedDef #2
}\msg {<<\the \toks 0>>}\endgroup \setbox 0=\hbox {#1\ProtectedDef #2\check \fo
o }\ifdim \wd 0=0pt\relax \else \errmessage {[Definition] Unwanted spaces?!}\fi
 \setbox 0=\hbox {\def \fooinitial {XYZ}\let \foo \fooinitial \errcount =0 \exp
andafter \def \csname @PackageError\endcsname ##1##2##3{\advance \errcount by 1
 }\expandafter \def \csname @notdefinable\endcsname {\advance \errcount by 1 }\
ProtectedDef #2\ifnum \errcount =1 \else \errmessage {1 error expected, but fou
nd: \the \errcount }\fi \ifx \foo \fooinitial \else \def \space { }\errmessage 
{\string \foo \space is overwritten}\fi }\ifdim \wd 0=0pt\relax \else \errmessa
ge {[Error] Unwanted spaces?!}\fi 
#1<-\long \pdef \cmp (##1){<##1>}
#2<-\foo (##1){<##1>}
\msg {->\immediate \write 16{
<<\ProtectedDef \foo (##1){<##1>}>>
\pdef ->\protected \def 
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-(##1)
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@firstoftwo #1#2->#1
#1<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#2<-\@notdefinable 
\reserved@a ->foo
\@carcube #1#2#3#4\@nil ->#1#2#3
#1<-f
#2<-o
#3<-o
#4<-xxx
\ProDef@next #1->#1
#1<-\ltx@IfUndefined {ProDef@param(##1)}{\protected \ProDef@long \def \foo (##1
)}{\protected \ProDef@long \expandafter \expandafter \expandafter \def \expanda
fter \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname }
\ltx@IfUndefined #1->\ifcsname #1\endcsname \expandafter \ifx \csname #1\endcsn
ame \relax \expandafter \expandafter \expandafter \ltx@firstoftwo \else \expand
after \expandafter \expandafter \ltx@secondoftwo \fi \else \expandafter \ltx@fi
rstoftwo \fi 
#1<-ProDef@param(##1)
\ltx@firstoftwo #1#2->#1
#1<-\protected \ProDef@long \def \foo (##1)
#2<-\protected \ProDef@long \expandafter \expandafter \expandafter \def \expand
after \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname 
\check #1->\ifx \cmp #1\msg {* Test passed.}\else \msg {}\msg {[\meaning #1]}\m
sg {[\meaning \cmp ]}\errmessage {Test failed!}\fi 
#1<-\foo 
\msg {->\immediate \write 16{
* Test passed.
\ProtectedDef ->\ltx@ifnextchar *{\let \ProDef@long \ltx@empty \expandafter \Pr
oDef@ProtectedDef \ltx@gobble }{\let \ProDef@long \long \ProDef@ProtectedDef }
\ltx@ifnextchar #1#2#3->\begingroup \let \LTXcmds@CharToken = #1\relax \ltx@Loc
ToksA {\endgroup #2}\ltx@LocToksB {\endgroup #3}\futurelet \LTXcmds@LetToken \L
TXcmds@ifnextchar 
#1<-*
#2<-\let \ProDef@long \ltx@empty \expandafter \ProDef@ProtectedDef \ltx@gobble 
#3<-\let \ProDef@long \long \ProDef@ProtectedDef 
\LTXcmds@ifnextchar ->\ifx \LTXcmds@LetToken \LTXcmds@CharToken \the \expandaft
er \ltx@LocToksA \else \expandafter \ifx \csname LTXcmds@LetToken\endcsname \LT
Xcmds@SpaceToken \expandafter \expandafter \expandafter \LTXcmds@@ifnextchar \e
lse \the \expandafter \expandafter \expandafter \ltx@LocToksB \fi \fi 
\ProDef@ProtectedDef #1#2{->\ProDef@IfDefinable {#1}{\ltx@IfUndefined {ProDef@p
aram#2}{\protected \ProDef@long \def #1#2}{\protected \ProDef@long \expandafter
 \expandafter \expandafter \def \expandafter \expandafter \expandafter #1\csnam
e ProDef@param#2\endcsname }}{
#1<-\foo 
#2<-(##1)
\ProDef@IfDefinable #1->\let \ProDef@next \ltx@gobbletwo \@ifdefinable {#1}{\le
t \ProDef@next \ltx@firstofone }\ProDef@next 
#1<-\foo 
\@ifdefinable #1#2->\edef \reserved@a {\expandafter \@gobble \string #1}\@ifund
efined \reserved@a {\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@
nil }\ifx \reserved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@n
otdefinable \else #2\fi \fi }\@notdefinable 
#1<-\foo 
#2<-\let \ProDef@next \ltx@firstofone 
\@gobble #1->
#1<-\
\@ifundefined #1->\ifcsname #1\endcsname \expandafter \ifx \lastnamedcs \relax 
\else \@ifundefin@d@i \fi \fi \@firstoftwo 
#1<-\reserved@a 
\reserved@a ->foo
\@ifundefin@d@i #1#2#3#4#5->#1#2#5
#1<-\fi 
#2<-\fi 
#3<-\@firstoftwo 
#4<-\edef \reserved@b {\expandafter \@carcube \reserved@a xxx\@nil }\ifx \reser
ved@b \@qend \@notdefinable \else \ifx \reserved@a \@qrelax \@notdefinable \els
e \let \ProDef@next \ltx@firstofone \fi \fi 
#5<-\@notdefinable 
\@notdefinable ->\advance \errcount by 1 
\ProDef@next #1#2->
#1<-\ltx@IfUndefined {ProDef@param(##1)}{\protected \ProDef@long \def \foo (##1
)}{\protected \ProDef@long \expandafter \expandafter \expandafter \def \expanda
fter \expandafter \expandafter \foo \csname ProDef@param(##1)\endcsname }
#2<-<##1>
\@@end ->\ifnum \currentgrouplevel >0 \LONGTYPEOUT {Bad grouping: \the \current
grouplevel !}\fi \ifnum \currentiflevel >2 \LONGTYPEOUT {Bad conditionals: \the
 \numexpr \currentiflevel -2!}\fi \LONGTYPEOUT {
